"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[692],{9692:(fi,ut,c)=>{c.r(ut),c.d(ut,{NotesModule:()=>V});var pt=c(3060),k=c(4859),gt=c(6709),S=c(7274),Z=c(9549),O=c(7392),z=c(284),Q=c(8255),L=c(3238),b=c(531),u=c(6895),t=c(4650),W=c(2687),zt=c(445),I=c(1281),mt=c(9521),Wt=c(3353),p=c(7579),Xt=c(4968),qt=c(6451),C=c(9300),A=c(4004),ht=c(9718),g=c(2722),ft=c(1884),X=c(5698),vt=c(8675),q=c(8372),f=c(7340);const xt=["*"],te=["content"];function ee(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r._onBackdropClicked())}),t.qZA()}if(2&o){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function ne(o,n){1&o&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const oe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ie=["mat-drawer","mat-drawer-content","*"],re={transformDrawer:(0,f.X$)("transform",[(0,f.SB)("open, open-instant",(0,f.oB)({transform:"none",visibility:"visible"})),(0,f.SB)("void",(0,f.oB)({"box-shadow":"none",visibility:"hidden"})),(0,f.eR)("void => open-instant",(0,f.jt)("0ms")),(0,f.eR)("void <=> open, open-instant => void",(0,f.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ae=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function se(){return!1}}),bt=new t.OlP("MAT_DRAWER_CONTAINER");let E=(()=>{class o extends b.PQ{constructor(e,i,r,a,s){super(r,a,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>wt)),t.Y36(t.SBq),t.Y36(b.mF),t.Y36(t.R0b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&t.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[t._Bn([{provide:b.PQ,useExisting:o}]),t.qOj],ngContentSelectors:xt,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),o})(),Ct=(()=>{class o{constructor(e,i,r,a,s,_,h,_t){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=s,this._interactivityChecker=_,this._doc=h,this._container=_t,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new p.x,this._animationEnd=new p.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,C.h)(l=>l),(0,A.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,C.h)(l=>l.fromState!==l.toState&&0===l.toState.indexOf("open")),(0,ht.h)(void 0)),this._closedStream=this.openedChange.pipe((0,C.h)(l=>!l),(0,A.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,C.h)(l=>l.fromState!==l.toState&&"void"===l.toState),(0,ht.h)(void 0)),this._destroyed=new p.x,this.onPositionChanged=new t.vpe,this._modeChanged=new p.x,this.openedChange.subscribe(l=>{l?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Xt.R)(this._elementRef.nativeElement,"keydown").pipe((0,C.h)(l=>l.keyCode===mt.hY&&!this.disableClose&&!(0,mt.Vb)(l)),(0,g.R)(this._destroyed)).subscribe(l=>this._ngZone.run(()=>{this.close(),l.stopPropagation(),l.preventDefault()}))}),this._animationEnd.pipe((0,ft.x)((l,m)=>l.fromState===m.fromState&&l.toState===m.toState)).subscribe(l=>{const{fromState:m,toState:B}=l;(0===B.indexOf("open")&&"void"===m||"void"===B&&0===m.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,I.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,I.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,I.Ig)(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,X.q)(1)).subscribe(s=>a(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(W.qV),t.Y36(W.tE),t.Y36(Wt.t4),t.Y36(t.R0b),t.Y36(W.ic),t.Y36(u.K0,8),t.Y36(bt,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&t.Gf(te,5),2&e){let r;t.iGM(r=t.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&t.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&e&&(t.uIk("align",null),t.d8E("@transform",i._animationState),t.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:xt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[b.PQ],encapsulation:2,data:{animation:[re.transformDrawer]},changeDetection:0}),o})(),wt=(()=>{class o{constructor(e,i,r,a,s,_=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=h,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new p.x,this._doCheckSubject=new p.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new p.x,e&&e.change.pipe((0,g.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe((0,g.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=_}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,I.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,I.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,vt.O)(this._allDrawers),(0,g.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,vt.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,q.b)(10),(0,g.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,C.h)(i=>i.fromState!==i.toState),(0,g.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,g.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,g.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,X.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,g.R)((0,qt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(zt.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(b.rL),t.Y36(ae),t.Y36(t.QbO,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(t.Suo(r,E,5),t.Suo(r,Ct,5)),2&e){let a;t.iGM(a=t.CRH())&&(i._content=a.first),t.iGM(a=t.CRH())&&(i._allDrawers=a)}},viewQuery:function(e,i){if(1&e&&t.Gf(E,5),2&e){let r;t.iGM(r=t.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:bt,useExisting:o}])],ngContentSelectors:ie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(oe),t.YNc(0,ee,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,ne,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",i.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!i._content))},dependencies:[u.O5,E],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),o})(),ce=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,L.BQ,b.ZD,b.ZD,L.BQ]}),o})();var le=c(8288),yt=c(4880);function de(o,n){1&o&&t.GkF(0)}const _e=function(o){return{$implicit:o}};class J{constructor(n){this._fuseMediaWatcherService=n,this.items=[],this.distributedColumns=[]}ngOnChanges(n){"columns"in n&&this._distributeItems(),"items"in n&&this._distributeItems()}ngAfterViewInit(){this._distributeItems()}_distributeItems(){if(0!==this.items.length){this.distributedColumns=Array.from(Array(this.columns),n=>({items:[]}));for(let n=0;n<this.items.length;n++)this.distributedColumns[n%this.columns].items.push(this.items[n])}else this.distributedColumns=[]}static#t=this.\u0275fac=function(e){return new(e||J)(t.Y36(yt.T))};static#e=this.\u0275cmp=t.Xpm({type:J,selectors:[["fuse-masonry"]],inputs:{columnsTemplate:"columnsTemplate",columns:"columns",items:"items"},exportAs:["fuseMasonry"],features:[t.TTD],decls:2,vars:4,consts:[[1,"flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,de,1,0,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngTemplateOutlet",i.columnsTemplate)("ngTemplateOutletContext",t.VKq(2,_e,i.distributedColumns)))},dependencies:[u.tP],encapsulation:2,data:{animation:le.L}})}class R{static#t=this.\u0275fac=function(e){return new(e||R)};static#e=this.\u0275mod=t.oAB({type:R});static#n=this.\u0275inj=t.cJS({imports:[u.ez]})}var ue=c(4466);class j{constructor(){}static#t=this.\u0275fac=function(e){return new(e||j)};static#e=this.\u0275cmp=t.Xpm({type:j,selectors:[["notes"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[pt.lC],encapsulation:2,changeDetection:0})}var N=c(1135),pe=c(9841),v=c(9646),tt=c(3900),ge=c(2843),me=c(1740);var ve=c(6198),$=c(3276),xe=c(3487),be=c(1986);const ye=(0,c(5820).Z)(Object.keys,Object);var Me=Object.prototype.hasOwnProperty;var Ze=c(8706);const et=function De(o){return(0,Ze.Z)(o)?(0,xe.Z)(o):function ke(o){if(!(0,be.Z)(o))return ye(o);var n=[];for(var e in Object(o))Me.call(o,e)&&"constructor"!=e&&n.push(e);return n}(o)};var nt=c(571);var Be=c(634),Oe=c(8297);const Tt=function Ee(){return[]};var Re=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols;const ot=Mt?function(o){return null==o?[]:(o=Object(o),function Qe(o,n){for(var e=-1,i=null==o?0:o.length,r=0,a=[];++e<i;){var s=o[e];n(s,e,o)&&(a[r++]=s)}return a}(Mt(o),function(n){return Re.call(o,n)}))}:Tt,kt=function Ge(o,n){for(var e=-1,i=n.length,r=o.length;++e<i;)o[r+e]=n[e];return o};var Ue=c(5650);const St=Object.getOwnPropertySymbols?function(o){for(var n=[];o;)kt(n,ot(o)),o=(0,Ue.Z)(o);return n}:Tt;var Zt=c(4177);const Dt=function ze(o,n,e){var i=n(o);return(0,Zt.Z)(o)?i:kt(i,e(o))},Xe=function We(o){return Dt(o,et,ot)},tn=function qe(o){return Dt(o,nt.Z,St)};var Y=c(3858),G=c(5946);const it=(0,Y.Z)(G.Z,"DataView");var rt=c(9329);const at=(0,Y.Z)(G.Z,"Promise"),st=(0,Y.Z)(G.Z,"Set"),ct=(0,Y.Z)(G.Z,"WeakMap");var It=c(7079),D=c(4407),At="[object Map]",Nt="[object Promise]",Ft="[object Set]",Bt="[object WeakMap]",Ot="[object DataView]",sn=(0,D.Z)(it),cn=(0,D.Z)(rt.Z),ln=(0,D.Z)(at),dn=(0,D.Z)(st),_n=(0,D.Z)(ct),w=It.Z;(it&&w(new it(new ArrayBuffer(1)))!=Ot||rt.Z&&w(new rt.Z)!=At||at&&w(at.resolve())!=Nt||st&&w(new st)!=Ft||ct&&w(new ct)!=Bt)&&(w=function(o){var n=(0,It.Z)(o),e="[object Object]"==n?o.constructor:void 0,i=e?(0,D.Z)(e):"";if(i)switch(i){case sn:return Ot;case cn:return At;case ln:return Nt;case dn:return Ft;case _n:return Bt}return n});const lt=w;var pn=Object.prototype.hasOwnProperty;var Qt=c(3164);var vn=/\w*$/;var Lt=c(8492),Et=Lt.Z?Lt.Z.prototype:void 0,Jt=Et?Et.valueOf:void 0;var yn=c(9376);const Gn=function Yn(o,n,e){var i=o.constructor;switch(n){case"[object ArrayBuffer]":return(0,Qt.Z)(o);case"[object Boolean]":case"[object Date]":return new i(+o);case"[object DataView]":return function hn(o,n){var e=n?(0,Qt.Z)(o.buffer):o.buffer;return new o.constructor(e,o.byteOffset,o.byteLength)}(o,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,yn.Z)(o,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(o);case"[object RegExp]":return function xn(o){var n=new o.constructor(o.source,vn.exec(o));return n.lastIndex=o.lastIndex,n}(o);case"[object Symbol]":return function Cn(o){return Jt?Object(Jt.call(o)):{}}(o)}};var Un=c(3121),Pn=c(5202),Rt=c(214);var jt=c(6932),U=c(6594),$t=U.Z&&U.Z.isMap;const Wn=$t?(0,jt.Z)($t):function Kn(o){return(0,Rt.Z)(o)&&"[object Map]"==lt(o)};var Xn=c(1999);var Yt=U.Z&&U.Z.isSet;const oo=Yt?(0,jt.Z)(Yt):function to(o){return(0,Rt.Z)(o)&&"[object Set]"==lt(o)};var Gt="[object Arguments]",Ut="[object Function]",Pt="[object Object]",d={};d[Gt]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Map]"]=d["[object Number]"]=d[Pt]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[Ut]=d["[object WeakMap]"]=!1;const Ao=function P(o,n,e,i,r,a){var s,_=1&n,h=2&n,_t=4&n;if(e&&(s=r?e(o,i,r,a):e(o)),void 0!==s)return s;if(!(0,Xn.Z)(o))return o;var l=(0,Zt.Z)(o);if(l){if(s=function gn(o){var n=o.length,e=new o.constructor(n);return n&&"string"==typeof o[0]&&pn.call(o,"index")&&(e.index=o.index,e.input=o.input),e}(o),!_)return(0,Oe.Z)(o,s)}else{var m=lt(o),B=m==Ut||"[object GeneratorFunction]"==m;if((0,Pn.Z)(o))return(0,Be.Z)(o,_);if(m==Pt||m==Gt||B&&!r){if(s=h||B?{}:(0,Un.Z)(o),!_)return h?function Ke(o,n){return(0,$.Z)(o,St(o),n)}(o,function Ne(o,n){return o&&(0,$.Z)(n,(0,nt.Z)(n),o)}(s,o)):function $e(o,n){return(0,$.Z)(o,ot(o),n)}(o,function Ie(o,n){return o&&(0,$.Z)(n,et(n),o)}(s,o))}else{if(!d[m])return r?o:{};s=Gn(o,m,_)}}a||(a=new me.Z);var Kt=a.get(o);if(Kt)return Kt;a.set(o,s),oo(o)?o.forEach(function(x){s.add(P(x,n,e,x,o,a))}):Wn(o)&&o.forEach(function(x,M){s.set(M,P(x,n,e,M,o,a))});var Vt=l?void 0:(_t?h?tn:Xe:h?nt.Z:et)(o);return function he(o,n){for(var e=-1,i=null==o?0:o.length;++e<i&&!1!==n(o[e],e,o););}(Vt||o,function(x,M){Vt&&(x=o[M=x]),(0,ve.Z)(s,M,P(x,n,e,M,o,a))}),s},Ht=function Bo(o){return Ao(o,5)};var Oo=c(529),Qo=c(6849),Lo=c(7495);class y{constructor(n,e,i){this._httpClient=n,this._afs=e,this._userService=i,this._labels=new N.X(null),this._note=new N.X(null),this._notes=new N.X(null),this._user=null,i.user$.subscribe(r=>{this._user=r})}get labels$(){return this._labels.asObservable()}get notes$(){return this._notes.asObservable()}get note$(){return this._note.asObservable()}getLabels(){this._afs.collection(`/notes/${this._user.localId}/labels`).valueChanges({idField:"id"}).subscribe(e=>{this._labels.next(e)})}addLabel(n){const e=this._afs.createId();this._afs.doc(`/notes/${this._user.localId}/labels/${e}`).set({title:n})}updateLabel(n){const e=n.id;return delete n.id,this._afs.doc(`/notes/${this._user.localId}/label/${n.id}`).update(n),n.id=e,(0,v.of)(n)}deleteLabel(n){return this._afs.doc(`/notes/${this._user.localId}/labels/${n}`).delete(),(0,v.of)(!0)}getNotes(){this._afs.collection(`/notes/${this._user.localId}/notes`).valueChanges({idField:"id"}).subscribe(e=>{this._notes.next(e)})}getNoteById(n){return this._notes.pipe((0,X.q)(1),(0,A.U)(e=>{const i=e.find(r=>r.id===n)||null;return this._note.next(i),i}),(0,tt.w)(e=>e?(0,v.of)(e):(0,ge._)("Could not found the note with id of "+n+"!")))}addTask(n,e){const i=this._afs.createId();return delete n.id,this._afs.doc(`/notes/${this._user.localId}/notes/${i}`).set(n),n.id=i,(0,v.of)(n)}createNote(n){const e=this._afs.createId();return delete n.id,this._afs.doc(`/notes/${this._user.localId}/notes/${e}`).set(n),n.id=e,(0,v.of)(n)}updateNote(n){const e=Ht(n);return delete e.id,this._afs.doc(`/notes/${this._user.localId}/notes/${n.id}`).update(e),(0,v.of)(n)}deleteNote(n){return this._afs.doc(`/notes/${this._user.localId}/notes/${n.id}`).delete(),(0,v.of)(!0)}static#t=this.\u0275fac=function(e){return new(e||y)(t.LFG(Oo.eN),t.LFG(Qo.ST),t.LFG(Lo.K))};static#e=this.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}var Eo=c(9349),T=c(4006);const Jo=function(o){return{"text-secondary line-through":o}};function Ro(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"mat-checkbox",13),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).$implicit;return t.KtG(s.completed=r)})("change",function(){const a=t.CHM(e).$implicit,s=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.updateTaskOnNote(s,a))}),t.qZA(),t.TgZ(3,"input",14),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).$implicit;return t.KtG(s.content=r)})("input",function(){const a=t.CHM(e).$implicit,s=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.updateTaskOnNote(s,a))}),t.qZA(),t.TgZ(4,"mat-icon",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.removeTaskFromNote(s,a))}),t.qZA()(),t.BQk()}if(2&o){const e=n.$implicit;t.xp6(2),t.Q6J("color","primary")("ngModel",e.completed),t.xp6(1),t.Q6J("ngClass",t.VKq(6,Jo,e.completed))("placeholder","Task")("ngModel",e.content),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x")}}function jo(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.YNc(2,Ro,5,8,"ng-container",7),t.TgZ(3,"div",8),t._UZ(4,"mat-icon",9),t.TgZ(5,"input",10,11),t.NdJ("keydown.enter",function(){t.CHM(e);const r=t.MAs(6),a=t.oxw().ngIf;return t.oxw().addTaskToNote(a,r.value),t.KtG(r.value="")}),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.tasks)("ngForTrackBy",i.trackByFn),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(1),t.Q6J("placeholder","Add task")}}function $o(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2).ngIf,_=t.oxw();return t.KtG(_.toggleLabelOnNote(s,a))}),t.qZA()(),t.BQk()}if(2&o){const e=n.$implicit;t.xp6(3),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x-circle")}}function Yo(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",16),t.YNc(2,$o,5,2,"ng-container",7),t.qZA(),t.BQk()),2&o){const e=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.labels)("ngForTrackBy",i.trackByFn)}}function Go(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.createNote(r))}),t._uU(3," Save "),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("color","primary")("disabled",!e.title&&!e.content)}}function Uo(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",29),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3).ngIf,_=t.oxw();return t.KtG(_.toggleLabelOnNote(s,a))}),t.TgZ(2,"span",8),t._UZ(3,"mat-checkbox",30),t.TgZ(4,"span",31),t._uU(5),t.qZA()()(),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw(3).ngIf,r=t.oxw();t.xp6(3),t.Q6J("color","primary")("checked",r.isNoteHasLabel(i,e)),t.xp6(2),t.Oqu(e.title)}}function Po(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Uo,6,3,"ng-container",28),t.BQk()),2&o){const e=n.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function Ho(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",21)(2,"div",22)(3,"button",23),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.addTasksToNote(r))}),t._UZ(4,"mat-icon",24),t.qZA(),t.TgZ(5,"button",25),t._UZ(6,"mat-icon",24),t.qZA(),t.TgZ(7,"mat-menu",null,26),t.YNc(9,Po,2,1,"ng-container",1),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"button",23),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.toggleArchiveOnNote(r))}),t._UZ(12,"mat-icon",24),t.qZA(),t.TgZ(13,"button",23),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().ngIf,a=t.oxw();return t.KtG(a.deleteNote(r))}),t._UZ(14,"mat-icon",24),t.qZA()(),t.TgZ(15,"button",27),t._uU(16," Close "),t.qZA()(),t.BQk()}if(2&o){const e=t.MAs(8),i=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_outline:clipboard-list"),t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:tag"),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,6,i.labels$)),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:archive"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash")}}function Ko(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div")(3,"input",3),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).ngIf;return t.KtG(s.title=r)})("input",function(){const a=t.CHM(e).ngIf,s=t.oxw();return t.KtG(s.updateNoteDetails(a))}),t.qZA()(),t.TgZ(4,"div",4)(5,"textarea",5),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).ngIf;return t.KtG(s.content=r)})("input",function(){const a=t.CHM(e).ngIf,s=t.oxw();return t.KtG(s.updateNoteDetails(a))}),t.qZA()(),t.YNc(6,jo,7,4,"ng-container",1),t.YNc(7,Yo,3,2,"ng-container",1),t.YNc(8,Go,4,2,"ng-container",1),t.YNc(9,Ho,17,8,"ng-container",1),t.qZA(),t.BQk()}if(2&o){const e=n.ngIf;t.xp6(3),t.Q6J("placeholder","Title")("ngModel",e.title),t.xp6(2),t.Q6J("placeholder","Note")("ngModel",e.content),t.xp6(1),t.Q6J("ngIf",e.tasks),t.xp6(1),t.Q6J("ngIf",e.labels&&e.labels.length),t.xp6(1),t.Q6J("ngIf",!e.id),t.xp6(1),t.Q6J("ngIf",e.id)}}class F{constructor(n,e,i,r){this._changeDetectorRef=n,this._data=e,this._notesService=i,this._matDialogRef=r,this.noteChanged=new p.x,this._unsubscribeAll=new p.x}ngOnInit(){this._data.note.id?(this._notesService.getNoteById(this._data.note.id).subscribe(),this.note$=this._notesService.note$):this.note$=(0,v.of)({id:null,title:"",content:"",tasks:null,image:null,reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null}),this.labels$=this._notesService.labels$,this.noteChanged.pipe((0,g.R)(this._unsubscribeAll),(0,q.b)(500),(0,tt.w)(n=>this._notesService.updateNote(n))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createNote(n){this._notesService.createNote(n).pipe((0,A.U)(()=>{this.note$=this._notesService.note$})).subscribe()}uploadImage(n,e){if(!e.length)return;const r=e[0];!["image/jpeg","image/png"].includes(r.type)||this._readAsDataURL(r).then(a=>{n.image=a,this.noteChanged.next(n)})}removeImage(n){n.image=null,this.noteChanged.next(n)}addTasksToNote(n){n.tasks||(n.tasks=[])}addTaskToNote(n,e){""!==e.trim()&&this._notesService.addTask(n,e).subscribe()}removeTaskFromNote(n,e){n.tasks=n.tasks.filter(i=>i.id!==e.id),this.noteChanged.next(n)}updateTaskOnNote(n,e){e.id&&this.noteChanged.next(n)}isNoteHasLabel(n,e){return!!n.labels.find(i=>i.id===e.id)}toggleLabelOnNote(n,e){this.isNoteHasLabel(n,e)?n.labels=n.labels.filter(i=>i.id!==e.id):n.labels.push(e),this.noteChanged.next(n)}toggleArchiveOnNote(n){n.archived=!n.archived,this.noteChanged.next(n),this._matDialogRef.close()}updateNoteDetails(n){this.noteChanged.next(n)}deleteNote(n){this._notesService.deleteNote(n).subscribe(e=>{!e||this._matDialogRef.close()})}trackByFn(n,e){return e.id||n}_readAsDataURL(n){return new Promise((e,i)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=a=>{i(a)},r.readAsDataURL(n)})}static#t=this.\u0275fac=function(e){return new(e||F)(t.Y36(t.sBO),t.Y36(S.WI),t.Y36(y),t.Y36(S.so))};static#e=this.\u0275cmp=t.Xpm({type:F,selectors:[["notes-details"]],decls:3,vars:3,consts:[[1,"flex","flex-col","flex-auto","md:w-160","md:min-w-160","-m-6"],[4,"ngIf"],[1,"m-4"],[1,"w-full","p-2","text-2xl",3,"placeholder","ngModel","ngModelChange","input"],[1,"flex","w-full","py-5","px-2"],["cdkTextareaAutosize","",1,"w-full",3,"placeholder","ngModel","ngModelChange","input"],[1,"mx-2","mt-4","space-y-1.5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center"],[1,"-ml-0.5","icon-size-5","text-hint",3,"svgIcon"],[1,"w-full","ml-1.5","px-1","py-0.5",3,"placeholder","keydown.enter"],["newTaskInput",""],[1,"group","flex","items-center"],[1,"flex","items-center",3,"color","ngModel","ngModelChange","change"],[1,"w-full","px-1","py-0.5",3,"ngClass","placeholder","ngModel","ngModelChange","input"],[1,"hidden","group-hover:flex","ml-auto","icon-size-5","cursor-pointer",3,"svgIcon","click"],[1,"flex","flex-wrap","items-center","mx-1","mt-6"],[1,"flex","items-center","m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"ml-1","icon-size-4","cursor-pointer",3,"svgIcon","click"],[1,"flex","items-center","justify-end","mt-4"],["mat-flat-button","",3,"color","disabled","click"],[1,"flex","items-center","justify-between","mt-4"],[1,"flex","items-center","space-x-2"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],["labelsMenu","matMenu"],["mat-flat-button","","matDialogClose",""],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["disableRipple","",1,"flex","items-center","pointer-events-none",3,"color","checked"],[1,"ml-1","leading-5"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ko,10,8,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.note$)))},dependencies:[k.lW,k.RK,gt.oG,S.ZT,O.Hw,Eo.IC,Q.VK,Q.OP,Q.p6,u.mk,u.sg,u.O5,T.Fj,T.JJ,T.On,u.Ov],encapsulation:2,changeDetection:0})}function Vo(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",13)(2,"button",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.deleteLabel(a.id))}),t._UZ(3,"mat-icon",9),t.qZA(),t.TgZ(4,"input",15),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).$implicit;return t.KtG(s.title=r)})("input",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.updateLabel(a))}),t.qZA()(),t.BQk()}if(2&o){const e=n.$implicit;t.xp6(3),t.Q6J("svgIcon","heroicons_solid:trash"),t.xp6(1),t.Q6J("autocomplete","off")("ngModel",e.title)}}function zo(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Vo,5,3,"ng-container",12),t.BQk()),2&o){const e=n.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}class H{constructor(n,e){this._changeDetectorRef=n,this._notesService=e,this.labelChanged=new p.x,this._unsubscribeAll=new p.x}ngOnInit(){this.labels$=this._notesService.labels$,this.labelChanged.pipe((0,g.R)(this._unsubscribeAll),(0,q.b)(500),(0,C.h)(n=>""!==n.title.trim()),(0,tt.w)(n=>this._notesService.updateLabel(n))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addLabel(n){this._notesService.addLabel(n)}updateLabel(n){this.labelChanged.next(n)}deleteLabel(n){this._notesService.deleteLabel(n).subscribe(()=>{this._changeDetectorRef.markForCheck()})}trackByFn(n,e){return e.id||n}static#t=this.\u0275fac=function(e){return new(e||H)(t.Y36(t.sBO),t.Y36(y))};static#e=this.\u0275cmp=t.Xpm({type:H,selectors:[["notes-labels"]],decls:14,vars:9,consts:[[1,"flex","flex-col","flex-auto","w-80","min-w-80","p-2","md:p-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold"],["matDialogClose","","mat-icon-button",""],[3,"svgIcon"],[1,"fuse-mat-dense","w-full","mt-8"],["name","new-label","matInput","",3,"autocomplete","placeholder"],["newLabelInput",""],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","flex-col","mt-4"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fuse-mat-dense","w-full"],["mat-icon-button","","matPrefix","",3,"click"],["required","","matInput","",3,"autocomplete","ngModel","ngModelChange","input"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Edit labels"),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"mat-icon",4),t.qZA()(),t.TgZ(6,"mat-form-field",5),t._UZ(7,"input",6,7),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(8);return i.addLabel(s.value),t.KtG(s.value="")}),t._UZ(10,"mat-icon",9),t.qZA()(),t.TgZ(11,"div",10),t.YNc(12,zo,2,2,"ng-container",11),t.ALo(13,"async"),t.qZA()()}if(2&e){const r=t.MAs(8);t.xp6(5),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(2),t.Q6J("autocomplete","off")("placeholder","Create new label"),t.xp6(2),t.ekj("invisible",""===r.value.trim()),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check-circle"),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,7,i.labels$))}},dependencies:[k.RK,S.ZT,Z.KE,Z.qo,Z.R9,O.Hw,z.Nt,u.sg,u.O5,T.Fj,T.JJ,T.Q7,T.On,u.Ov],encapsulation:2,changeDetection:0})}const dt=function(o,n){return{"bg-gray-200 dark:bg-gray-700 text-primary dark:text-primary-400":o,"text-hint hover:bg-hover":n}};function Wo(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.filterByLabel(a.id))}),t._UZ(2,"mat-icon",7),t.TgZ(3,"div",8),t._uU(4),t.qZA()(),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(4,dt,"label:"+e.id===i.filterStatus,"label:"+e.id!==i.filterStatus))("matRippleDisabled","label:"+e.id===i.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:tag"),t.xp6(2),t.Oqu(e.title)}}function Xo(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Wo,5,7,"ng-container",29),t.BQk()),2&o){const e=n.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function qo(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",35),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.title," ")}}function ti(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.ekj("text-xl",e.content.length<70),t.xp6(1),t.hij(" ",e.content," ")}}function ei(o,n){1&o&&(t.ynx(0),t.TgZ(1,"div",38),t._UZ(2,"div",39),t.qZA(),t.BQk())}function ni(o,n){1&o&&(t.ynx(0),t._UZ(1,"mat-icon",40),t.BQk()),2&o&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check-circle"))}const oi=function(o){return{"text-secondary line-through":o}};function ii(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",15),t.YNc(2,ei,3,0,"ng-container",9),t.YNc(3,ni,2,1,"ng-container",9),t.TgZ(4,"div",37),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",!e.completed),t.xp6(1),t.Q6J("ngIf",e.completed),t.xp6(1),t.Q6J("ngClass",t.VKq(4,oi,e.completed)),t.xp6(1),t.hij(" ",e.content," ")}}function ri(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",36),t.YNc(2,ii,6,6,"ng-container",29),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.tasks)("ngForTrackBy",i.trackByFn)}}function ai(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",42),t._uU(2),t.qZA(),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.hij(" ",e.title," ")}}function si(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",41),t.YNc(2,ai,3,1,"ng-container",29),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.labels)("ngForTrackBy",i.trackByFn)}}function ci(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(5);return t.KtG(s.openNoteDialog(a))}),t.TgZ(2,"div",34),t.YNc(3,qo,3,1,"ng-container",9),t.YNc(4,ti,3,3,"ng-container",9),t.YNc(5,ri,3,2,"ng-container",9),t.YNc(6,si,3,2,"ng-container",9),t.qZA()(),t.BQk()}if(2&o){const e=n.$implicit;t.xp6(3),t.Q6J("ngIf",e.title),t.xp6(1),t.Q6J("ngIf",e.content),t.xp6(1),t.Q6J("ngIf",e.tasks),t.xp6(1),t.Q6J("ngIf",e.labels)}}function li(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",32),t.YNc(2,ci,7,4,"ng-container",29),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.items)("ngForTrackBy",i.trackByFn)}}function di(o,n){if(1&o&&t.YNc(0,li,3,2,"ng-container",29),2&o){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function _i(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"fuse-masonry",30),t.YNc(2,di,1,2,"ng-template",null,31,t.W1O),t.qZA(),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw().ngIf,r=t.oxw();t.xp6(1),t.Q6J("items",i)("columns",r.masonryColumns)("columnsTemplate",e)}}function ui(o,n){if(1&o&&(t.ynx(0),t.YNc(1,_i,4,3,"ng-container",26),t.BQk()),2&o){const e=n.ngIf;t.oxw();const i=t.MAs(39);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",i)}}function pi(o,n){1&o&&(t.TgZ(0,"div",43)(1,"div",44),t._uU(2,"Loading..."),t.qZA()())}function gi(o,n){1&o&&(t.TgZ(0,"div",43),t._UZ(1,"mat-icon",45),t.TgZ(2,"div",44),t._uU(3,"There are no notes!"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:document"))}class K{constructor(n,e,i,r){this._changeDetectorRef=n,this._fuseMediaWatcherService=e,this._matDialog=i,this._notesService=r,this.drawerMode="side",this.drawerOpened=!0,this.filter$=new N.X("notes"),this.searchQuery$=new N.X(null),this.masonryColumns=4,this._unsubscribeAll=new p.x}get filterStatus(){return this.filter$.value}ngOnInit(){this._notesService.getLabels(),this._notesService.getNotes(),this.labels$=this._notesService.labels$,this.notes$=(0,pe.a)([this._notesService.notes$,this.filter$,this.searchQuery$]).pipe((0,ft.x)(),(0,A.U)(([n,e,i])=>{if(!n||!n.length)return;let r=n;i&&(i=i.trim().toLowerCase(),r=r.filter(s=>s.title.toLowerCase().includes(i)||s.content.toLowerCase().includes(i)));const a="archived"===e;if(r=r.filter(s=>s.archived===a),e.startsWith("label:")){const s=e.split(":")[1];r=r.filter(_=>!!_.labels.find(h=>h.id===s))}return r})),this._fuseMediaWatcherService.onMediaChange$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{n.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this.masonryColumns=n.includes("xl")?5:n.includes("lg")?4:n.includes("md")?3:n.includes("sm")?2:1,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addNewNote(){this._matDialog.open(F,{autoFocus:!1,data:{note:{}}})}openEditLabelsDialog(){this._matDialog.open(H,{autoFocus:!1})}openNoteDialog(n){this._matDialog.open(F,{autoFocus:!1,data:{note:Ht(n)}})}filterByArchived(){this.filter$.next("archived")}filterByLabel(n){this.filter$.next(`label:${n}`)}filterByQuery(n){this.searchQuery$.next(n)}resetFilter(){this.filter$.next("notes")}trackByFn(n,e){return e.id||n}static#t=this.\u0275fac=function(e){return new(e||K)(t.Y36(t.sBO),t.Y36(yt.T),t.Y36(S.uw),t.Y36(y))};static#e=this.\u0275cmp=t.Xpm({type:K,selectors:[["notes-list"]],decls:40,vars:29,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent"],[1,"w-2/3","sm:w-72","lg:w-56","border-r-0","bg-default",3,"mode","opened"],["drawer",""],[1,"p-6","lg:py-8","lg:pl-4","lg:pr-0"],[1,"space-y-2"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer",3,"ngClass","matRippleDisabled","click"],[1,"text-current",3,"svgIcon"],[1,"ml-3","leading-5","select-none","text-default"],[4,"ngIf"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer","hover:bg-hover",3,"click"],[1,"text-hint",3,"svgIcon"],[1,"ml-3","leading-5","select-none"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center"],[1,"flex","items-center","flex-auto"],["mat-icon-button","",1,"flex","lg:hidden","-ml-2",3,"click"],[3,"svgIcon"],[1,"fuse-mat-rounded","fuse-mat-dense","flex-auto","ml-4","lg:ml-0",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchInput",""],["mat-flat-button","",1,"ml-4","px-1","sm:px-4","min-w-10",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2"],[4,"ngIf","ngIfElse"],["loading",""],["noNotes",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"-mx-2","mt-8",3,"items","columns","columnsTemplate"],["columnsTemplate",""],[1,"flex-1","px-2","space-y-4"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","cursor-pointer","bg-card",3,"click"],[1,"flex","flex-auto","flex-col","p-6","space-y-4"],[1,"font-semibold","line-clamp-3"],[1,"space-y-1.5"],[1,"ml-1.5","leading-5",3,"ngClass"],[1,"flex","items-center","justify-center","w-5","h-5"],[1,"w-4","h-4","rounded-full","border-2"],[1,"text-hint","icon-size-5",3,"svgIcon"],[1,"flex","flex-wrap","items-center","-m-1"],[1,"m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],[1,"icon-size-24",3,"svgIcon"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5)(6,"div",6),t.NdJ("click",function(){return i.resetFilter()}),t._UZ(7,"mat-icon",7),t.TgZ(8,"div",8),t._uU(9,"Notes"),t.qZA()(),t.TgZ(10,"div",6),t.NdJ("click",function(){return i.filterByArchived()}),t._UZ(11,"mat-icon",7),t.TgZ(12,"div",8),t._uU(13,"Archive"),t.qZA()(),t.YNc(14,Xo,2,2,"ng-container",9),t.ALo(15,"async"),t.TgZ(16,"div",10),t.NdJ("click",function(){return i.openEditLabelsDialog()}),t._UZ(17,"mat-icon",11),t.TgZ(18,"div",12),t._uU(19,"Edit labels"),t.qZA()()()()(),t.TgZ(20,"mat-drawer-content",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"button",17),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(3);return t.KtG(s.toggle())}),t._UZ(25,"mat-icon",18),t.qZA(),t.TgZ(26,"mat-form-field",19),t._UZ(27,"mat-icon",20),t.TgZ(28,"input",21,22),t.NdJ("input",function(){t.CHM(r);const s=t.MAs(29);return t.KtG(i.filterByQuery(s.value))}),t.qZA()()(),t.TgZ(30,"button",23),t.NdJ("click",function(){return i.addNewNote()}),t._UZ(31,"mat-icon",24),t.TgZ(32,"span",25),t._uU(33,"New note"),t.qZA()()(),t.YNc(34,ui,2,2,"ng-container",26),t.ALo(35,"async"),t.YNc(36,pi,3,0,"ng-template",null,27,t.W1O),t.YNc(38,gi,4,1,"ng-template",null,28,t.W1O),t.qZA()()()()}if(2&e){const r=t.MAs(39);t.xp6(2),t.Q6J("mode",i.drawerMode)("opened",i.drawerOpened),t.xp6(4),t.Q6J("ngClass",t.WLB(23,dt,"notes"===i.filterStatus,"notes"!==i.filterStatus))("matRippleDisabled","notes"===i.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:pencil-alt"),t.xp6(3),t.Q6J("ngClass",t.WLB(26,dt,"archived"===i.filterStatus,"archived"!==i.filterStatus))("matRippleDisabled","archived"===i.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:archive"),t.xp6(3),t.Q6J("ngIf",t.lcZ(15,19,i.labels$)),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:pencil"),t.xp6(8),t.Q6J("svgIcon","heroicons_outline:menu"),t.xp6(1),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Search notes"),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus-circle"),t.xp6(3),t.Q6J("ngIf",t.lcZ(35,21,i.notes$))("ngIfElse",r)}},dependencies:[k.lW,k.RK,Z.KE,Z.qo,O.Hw,z.Nt,L.wG,Ct,wt,E,J,u.mk,u.sg,u.O5,u.Ov],encapsulation:2,changeDetection:0})}const mi=[{path:"",component:j,children:[{path:"",component:K}]}];class V{static#t=this.\u0275fac=function(e){return new(e||V)};static#e=this.\u0275mod=t.oAB({type:V});static#n=this.\u0275inj=t.cJS({imports:[pt.Bz.forChild(mi),k.ot,gt.p9,S.Is,Z.lN,O.Ps,z.c,Q.Tx,L.si,ce,R,ue.m]})}}}]);